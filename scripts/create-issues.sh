#!/bin/bash

# GitHub Issues åˆ›å»ºè„šæœ¬
# ä½¿ç”¨æ­¤è„šæœ¬åœ¨è®¤è¯åè‡ªåŠ¨åˆ›å»ºé¡¹ç›®issues

echo "ğŸš€ Claude GPT GitHub Issues åˆ›å»ºå·¥å…·"
echo "====================================="

# æ£€æŸ¥æ˜¯å¦å·²è®¤è¯
if ! gh auth status &>/dev/null; then
    echo "âŒ é”™è¯¯: è¯·å…ˆè¿è¡Œ 'gh auth login' è¿›è¡ŒGitHubè®¤è¯"
    exit 1
fi

echo "âœ… GitHub CLI å·²è®¤è¯"
echo ""

# Issue 1: åˆ›å»ºä¸­æ–‡ç‰ˆREADME
echo "ğŸ“ åˆ›å»º Issue 1: ä¸­æ–‡ç‰ˆ README..."
gh issue create \
  --title "ğŸ“ åˆ›å»ºä¸­æ–‡ç‰ˆ README" \
  --label "documentation,enhancement,chinese,i18n" \
  --body "$(cat <<'EOF'
## ğŸ“ éœ€æ±‚æè¿°

ä¸ºäº†æ›´å¥½åœ°æœåŠ¡ä¸­æ–‡ç”¨æˆ·ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªä¸­æ–‡ç‰ˆçš„ README æ–‡æ¡£ã€‚

## ğŸ¯ å…·ä½“ä»»åŠ¡

### 1. åˆ›å»º README_zh.md
- [ ] ç¿»è¯‘é¡¹ç›®æ ‡é¢˜å’Œæè¿°
- [ ] ç¿»è¯‘åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨
- [ ] ç¿»è¯‘é¡¹ç›®ç»“æ„è¯´æ˜
- [ ] ç¿»è¯‘æŠ€æœ¯æ ˆä»‹ç»
- [ ] ç¿»è¯‘å¿«é€Ÿå¼€å§‹æŒ‡å—
- [ ] ç¿»è¯‘å¼€å‘æŒ‡å—
- [ ] ç¿»è¯‘æ¶æ„è¯´æ˜
- [ ] ç¿»è¯‘éƒ¨ç½²æŒ‡å—
- [ ] ç¿»è¯‘è´¡çŒ®æŒ‡å—

### 2. æ›´æ–°ä¸» README.md
- [ ] åœ¨é¡¶éƒ¨æ·»åŠ è¯­è¨€åˆ‡æ¢é“¾æ¥
- [ ] æ·»åŠ ä¸­æ–‡ README é“¾æ¥

## ğŸ“‹ å…·ä½“è¦æ±‚

1. **æ–‡ä»¶ç»“æ„**
   ```
   README.md          # è‹±æ–‡ç‰ˆï¼ˆä¸»è¦ï¼‰
   README_zh.md       # ä¸­æ–‡ç‰ˆ
   ```

2. **å†…å®¹è¦æ±‚**
   - ä¿æŒä¸è‹±æ–‡ç‰ˆç»“æ„ä¸€è‡´
   - ä½¿ç”¨åœ°é“çš„ä¸­æ–‡è¡¨è¾¾
   - æŠ€æœ¯æœ¯è¯­ä¿æŒè‹±æ–‡ï¼Œæ·»åŠ ä¸­æ–‡è§£é‡Š
   - å‘½ä»¤è¡Œç¤ºä¾‹ä¿æŒè‹±æ–‡

3. **æ ·å¼è¦æ±‚**
   - ä½¿ç”¨åˆé€‚çš„ä¸­æ–‡æ ‡ç‚¹ç¬¦å·
   - emoji ä½¿ç”¨ä¿æŒä¸€è‡´
   - ä»£ç å—æ ¼å¼ä¿æŒä¸€è‡´

## ğŸ”— å‚è€ƒ

- è‹±æ–‡ç‰ˆ README.md
- é¡¹ç›®çš„ä¸­æ–‡æœ¬åœ°åŒ–æ–‡ä»¶ `/frontend/src/locales/zh.json`

## âœ… éªŒæ”¶æ ‡å‡†

- [ ] README_zh.md æ–‡ä»¶åˆ›å»ºå®Œæˆ
- [ ] ä¸­æ–‡å†…å®¹å‡†ç¡®ï¼Œæ— è¯­æ³•é”™è¯¯
- [ ] æ ¼å¼ä¸è‹±æ–‡ç‰ˆä¿æŒä¸€è‡´
- [ ] ä¸» README.md æ·»åŠ äº†è¯­è¨€åˆ‡æ¢é“¾æ¥
- [ ] ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£æ˜“äºç†è§£

## ğŸš€ ä¼˜å…ˆçº§

ä¸­ç­‰ä¼˜å…ˆçº§ - æœ‰åŠ©äºæ‰©å¤§é¡¹ç›®çš„ä¸­æ–‡ç”¨æˆ·ç¾¤ä½“
EOF
)"

if [ $? -eq 0 ]; then
    echo "âœ… Issue 1 åˆ›å»ºæˆåŠŸ"
else
    echo "âŒ Issue 1 åˆ›å»ºå¤±è´¥"
fi

echo ""

# Issue 2: å‰ç«¯å›½é™…åŒ–æ£€æŸ¥
echo "ğŸŒ åˆ›å»º Issue 2: å‰ç«¯å›½é™…åŒ–æ£€æŸ¥..."
gh issue create \
  --title "ğŸŒ æ£€æŸ¥å‰ç«¯æ–‡å­—å›½é™…åŒ–è¦†ç›–ç‡" \
  --label "i18n,frontend,audit,enhancement" \
  --body "$(cat <<'EOF'
## ğŸŒ éœ€æ±‚æè¿°

éœ€è¦å…¨é¢æ£€æŸ¥å‰ç«¯åº”ç”¨ä¸­çš„æ‰€æœ‰æ–‡å­—å†…å®¹ï¼Œç¡®ä¿éƒ½å·²ç»é€šè¿‡ i18next è¿›è¡Œå›½é™…åŒ–å¤„ç†ï¼Œæ²¡æœ‰ç¡¬ç¼–ç çš„ä¸­è‹±æ–‡æ–‡å­—ã€‚

## ğŸ“Š å½“å‰æ£€æŸ¥ç»“æœ

è¿è¡Œ `./scripts/check-i18n.sh` å‘ç°ä»¥ä¸‹é—®é¢˜ï¼š

### 1. ç¡¬ç¼–ç  placeholder æ–‡å­— (8å¤„)
- `ConversationsScreen.tsx`: "è¾“å…¥æ–°æ ‡é¢˜"
- `ProfileScreen.tsx`: "Enter your display name", "Tell us about yourself"  
- `AuthTestScreen.tsx`: "é‚®ç®±", "å¯†ç ", "å§“å"
- `SearchScreen.tsx`: "Search conversations..."

### 2. ç¿»è¯‘æ–‡ä»¶ä¸åŒæ­¥
- è‹±æ–‡ç¿»è¯‘ key: 141 ä¸ª
- ä¸­æ–‡ç¿»è¯‘ key: 133 ä¸ª
- **ç¼ºå°‘ 8 ä¸ªä¸­æ–‡ç¿»è¯‘**

### 3. æŠ€æœ¯å±æ€§ (éœ€ç¡®è®¤æ˜¯å¦éœ€è¦å›½é™…åŒ–)
- ç»„ä»¶å±æ€§: `mode="contained"`, `size="large"` ç­‰
- å¯¼èˆªåç§°: `name="Chat"`, `name="Settings"` ç­‰

## ğŸ¯ å…·ä½“ä»»åŠ¡

### 1. ä¿®å¤ç¡¬ç¼–ç æ–‡å­—
- [ ] ä¿®å¤ ConversationsScreen.tsx ä¸­çš„ "è¾“å…¥æ–°æ ‡é¢˜"
- [ ] ä¿®å¤ ProfileScreen.tsx ä¸­çš„è‹±æ–‡ placeholder
- [ ] ä¿®å¤ AuthTestScreen.tsx ä¸­çš„ä¸­æ–‡ placeholder  
- [ ] ä¿®å¤ SearchScreen.tsx ä¸­çš„ "Search conversations..."
- [ ] ä¿®å¤ MessageInput.tsx ä¸­çš„åŠ¨æ€ placeholder

### 2. åŒæ­¥ç¿»è¯‘æ–‡ä»¶
- [ ] æ‰¾å‡ºç¼ºå¤±çš„ 8 ä¸ªç¿»è¯‘ key
- [ ] è¡¥å……ä¸­æ–‡ç¿»è¯‘æ–‡ä»¶
- [ ] ç¡®ä¿è‹±æ–‡å’Œä¸­æ–‡ç¿»è¯‘ç»“æ„ä¸€è‡´

### 3. å»ºç«‹æ£€æŸ¥æµç¨‹
- [ ] å°† `./scripts/check-i18n.sh` é›†æˆåˆ° CI/CD
- [ ] å»ºç«‹ PR ä¸­çš„å›½é™…åŒ–æ£€æŸ¥è§„èŒƒ
- [ ] åˆ›å»ºå¼€å‘æ–‡æ¡£è¯´æ˜å›½é™…åŒ–è¦æ±‚

## ğŸ” æ£€æŸ¥å·¥å…·

é¡¹ç›®å·²æä¾›è‡ªåŠ¨åŒ–æ£€æŸ¥å·¥å…·ï¼š
```bash
./scripts/check-i18n.sh
```

è¯¥å·¥å…·ä¼šæ£€æŸ¥ï¼š
- ç¡¬ç¼–ç ä¸­æ–‡å­—ç¬¦
- ç¡¬ç¼–ç è‹±æ–‡å­—ç¬¦ä¸²
- æœªå›½é™…åŒ–çš„ placeholder
- ç¿»è¯‘æ–‡ä»¶å®Œæ•´æ€§
- t() å‡½æ•°ä½¿ç”¨æƒ…å†µ

## âœ… éªŒæ”¶æ ‡å‡†

- [ ] æ‰€æœ‰ç”¨æˆ·å¯è§æ–‡å­—éƒ½é€šè¿‡ i18next å¤„ç†
- [ ] en.json å’Œ zh.json æ–‡ä»¶å®Œæ•´ä¸”ç»“æ„ä¸€è‡´
- [ ] æ²¡æœ‰ç¡¬ç¼–ç çš„ä¸­è‹±æ–‡å­—ç¬¦ä¸²
- [ ] è¿è¡Œæ£€æŸ¥è„šæœ¬æ— è­¦å‘Š
- [ ] åº”ç”¨ä¸­è‹±æ–‡åˆ‡æ¢å®Œå…¨æ­£å¸¸

## ğŸš€ ä¼˜å…ˆçº§

**é«˜ä¼˜å…ˆçº§** - ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒå’Œäº§å“å›½é™…åŒ–è´¨é‡

## ğŸ’¡ ç›¸å…³æ–‡ä»¶

- `/frontend/src/locales/en.json` - è‹±æ–‡ç¿»è¯‘
- `/frontend/src/locales/zh.json` - ä¸­æ–‡ç¿»è¯‘  
- `/scripts/check-i18n.sh` - æ£€æŸ¥å·¥å…·
EOF
)"

if [ $? -eq 0 ]; then
    echo "âœ… Issue 2 åˆ›å»ºæˆåŠŸ"
else
    echo "âŒ Issue 2 åˆ›å»ºå¤±è´¥"
fi

echo ""
echo "ğŸ‰ Issues åˆ›å»ºå®Œæˆ!"
echo ""
echo "ğŸ“‹ æ€»ç»“:"
echo "- Issue 1: ğŸ“ åˆ›å»ºä¸­æ–‡ç‰ˆ README (ä¸­ç­‰ä¼˜å…ˆçº§)"
echo "- Issue 2: ğŸŒ æ£€æŸ¥å‰ç«¯æ–‡å­—å›½é™…åŒ–è¦†ç›–ç‡ (é«˜ä¼˜å…ˆçº§)"
echo ""
echo "ğŸ”— è®¿é—®é¡¹ç›® Issues: https://github.com/yipoo/claude-gpt/issues"